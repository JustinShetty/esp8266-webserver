<!DOCTYPE html><html> <head> <title>LabRecon Server</title> <meta name='viewport' content='width=257, minimal-ui, initial-scale=1, minimum-scale=0.50, maximum-scale=2.00, user-scalable=yes'> <script type="text/javascript">var g_sSesId='J7A7K0'; var g_iPW=0; var g_iMsgCtr=0; var g_sImgBack=''; var g_iImgTmOut=5000; var g_iRVAPer=5000; var g_iPostThr=250; var g_iXhrAbort=0; var g_sIFrmSrc=''; var g_iObjBits=0; var g_iRVACtr=0; var eIdDn=''; var g_sItmDn=''; var bTouch=false; var g_sKpValue=''; var g_sKpCtlId=''; var g_sKpType='n'; var g_iKpChrPos=0; var g_sKpPos='o'; var g_iKpState=0; var g_iKpDp=0; var g_sKpForm=''; var g_sKpClr=''; var g_sMsgBfrH=[]; var g_sMsgBfrL=[]; var g_oMsgTmr=null; var g_iStripImg=0; var g_iZPReqDly=500; function E(sId){return document.getElementById(sId);}function ES(sId){return document.getElementById(sId).style;}function EHide(e){e.style.visibility='hidden';}function EShow(e){e.style.visibility='visible';}function EChkVis(e){if(e.style.visibility=='visible')return true;}function EL(sId){return parseInt(document.getElementById(sId).style.left);}function EW(sId){return parseInt(document.getElementById(sId).style.width);}function EBkBd(e,C1,C2){e.style.backgroundColor=C1;e.style.borderColor=C2;}function ESBkBd(es,C1,C2){es.backgroundColor=C1;es.borderColor=C2;}function ETxt(e,sTxt){e.innerText=sTxt;}function ESPos(es,X,Y){es.left=X.toFixed(1)+'px'; es.top=Y.toFixed(1)+'px';}function ESBd(es,C){es.borderColor=C;}function ErL(e){return parseInt(e.style.left);}function ErT(e){return parseInt(e.style.top);}function ErW(e){var r=e.getBoundingClientRect(); return (r.right-r.left);}function ErH(e){return parseInt(e.style.height);}function EWinPos(sId){var r=document.getElementById(sId).getBoundingClientRect(); return{L: r.left, T: r.top, R: r.right, B: r.bottom};}function EDocPos(sId){var r=document.getElementById(sId).getBoundingClientRect(); var x=window.pageXOffset, y=window.pageYOffset; return{L: r.left+x, T: r.top+y, R: r.right+x, B: r.bottom+y, W: r.right-r.left, H: r.bottom-r.top};}function WinChkLR(x, w){if(x+5<window.pageXOffset){x=window.pageXOffset+5;}else if(x+w+5>window.innerWidth){x=window.innerWidth-w-5;}return x;}function ViewHW(){return{W: window.innerWidth, H: window.innerHeight, X: window.pageXOffset, Y: window.pageYOffset};}function IdParse(sId){sIdN=sId.substr(2,2); return{sNN:sIdN, i:parseInt(sIdN)-1, sTyp:sId.charAt(0), sItm:sId.charAt(1)}}window.onload=function(){g_iObjBits=0; if(typeof aBtn!='undefined')g_iObjBits|=1; if(typeof aScr!='undefined')g_iObjBits|=2; if(typeof aKnb!='undefined')g_iObjBits|=4; if(typeof aTrk!='undefined')g_iObjBits|=8; if(typeof aLst!='undefined')g_iObjBits|=16; ImgInitAll(); BtnInitAll(); ScrInitAll(); KnbInitAll(); TrkInitAll(); LstInitAll(); LedInitAll(); setTimeout('ReqValues()',2000); if(g_iRVAPer>0) setInterval('ReqValues()',g_iRVAPer); SetBackImg(100); IFrameLoad(700); if(typeof AudioGenTone!='undefined') AudioGenTone(440,250,0);}document.addEventListener('mousedown', function(evt){eIdDn=evt.target.id; if((eIdDn.length>2)&&(eIdDn.charAt(1)!='T'))evt.preventDefault(); ObjEvent(eIdDn, 'MD', evt.pageX, evt.pageY);}, false); document.addEventListener('mouseup', function(evt){evt.preventDefault(); ObjEvent(evt.target.id, 'MU', evt.pageX); eIdDn='';}, false); document.addEventListener('mousemove', function(evt){if(g_sItmDn!=''){evt.preventDefault(); ObjEvent(evt.target.id, 'MM', evt.pageX, evt.pageY);}}, false); document.addEventListener('touchstart', function(evt){eIdDn=evt.changedTouches[0].target.id; if(eIdDn.length>2&&eIdDn.charAt(0)!='I'&&eIdDn.charAt(1)!='T')evt.preventDefault(); var X=evt.changedTouches[0].pageX; var Y=evt.changedTouches[0].pageY; ObjEvent(eIdDn, 'TD', X, Y);}, false); document.addEventListener('touchend', function(evt){eIdDn=evt.changedTouches[0].target.id; if(eIdDn.length>2 && eIdDn.charAt(0)!='I') evt.preventDefault(); ObjEvent(eIdDn, 'TU', evt.changedTouches[0].pageX); eIdDn='';}, false); document.addEventListener('touchmove', function(evt){if(g_sItmDn!=''){eIdDn=evt.changedTouches[0].target.id; if(eIdDn.length>2&&eIdDn.charAt(0)!='I')evt.preventDefault(); var X=evt.changedTouches[0].pageX; var Y=evt.changedTouches[0].pageY; ObjEvent(evt.changedTouches[0].target.id, 'TM', X, Y);}}, false); window.addEventListener('beforeunload', function(evt){SendHttpReq('PUL');}, false); function ObjEvent(sId, sEvent, X, Y){console.log('ObjEvt:'+sId); var sDMU=sEvent.substring(1); //'D','M','U' if(bTouch=false){if(sEvent.substring(2,2)=='T') bTouch=true;}if(bTouch=true){if(sEvent.substring(2,2)=='M') return;}if(PWCheck(sId)==1) return; if(sDMU!='M')BtnEvent(sId, eIdDn, sEvent, sDMU); ScrEvent(sId, eIdDn, sEvent, sDMU, X); KnbEvent(sId, eIdDn, sEvent, sDMU, X, Y); TrkEvent(sId, eIdDn, sEvent, sDMU, X, Y); LstEvent(sId, eIdDn, sEvent, sDMU, X); HelpEvent(sId, eIdDn, sEvent, sDMU, X, Y); AnlyEvent(sId, eIdDn, sEvent, sDMU, X, Y); if(sDMU=='U')g_sItmDn='';}function SetBackImg(t){}function IFrameLoad(i){}function PWCheck(){}function HelpEvent(sIdNow, sIdPrv, sEvent, sDMU, X, Y){}function HelpShow(){}function AnlyEvent(sIdNow, sIdPrv, sEvent, sDMU, X, Y){}function AnlyUpdate(s){}function ReqValues(){var dTime=new Date(); var sCtr=GetMsgCtr(); var xhr=new XMLHttpRequest(); xhr.open('POST', ('?'+g_sSesId+sCtr+'!RVA'), true); xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'); xhr.send(); ReqValues.tTx=dTime.getTime(); xhr.onreadystatechange=function(){if(xhr.readyState==4 && xhr.status==200){UpdateValues(xhr.responseText);}}}function UpdateValues(sV){var iStart=0, iEnd=0, iPos=-1, iItmNum=2, fV=0; if(g_iObjBits&1)iItmNum+=aBtn.length; if(g_iObjBits&2)iItmNum+=aScr.length; if(g_iObjBits&4)iItmNum+=aKnb.length; if(g_iObjBits&8)iItmNum+=aTrk.length; if(g_iObjBits&16)iItmNum+=aLst.length; g_iRVACtr++; for(var n=0; n<iItmNum; n++){iPos=sV.indexOf('=',iStart); if(iPos<0)break; //exit loop var sId=sV.substring(iPos-3,iPos); var sIdNum=sId.substring(1,3); //ie '01' var sIdTyp=sId.substring(0,1); //ie 'B' var i=parseInt(sIdNum)-1; //'01'->0 var iEnd=sV.indexOf(';',iPos+1); var sValue=sV.substring(iPos+1,iEnd); //ie '1','2.5 iStart=iEnd+1; if(g_iRVACtr>2){if(sIdTyp=='B'||sIdTyp=='S'||sIdTyp=='D'||sIdTyp=='T')sIdTyp='';}if(sIdTyp=='B'){if(g_iObjBits&1 && i<aBtn.length){var e=E(sId); aBtn[i].iState=parseInt(sValue); BtnRefresh(e, i, aBtn[i].iState);}}else if(sIdTyp=='S'){if(g_iObjBits&2 && i<aScr.length){fV=parseFloat(sValue); if(fV<aScr[i].fMin) fV=aScr[i].fMin; if(fV>aScr[i].fMax) fV=aScr[i].fMax; aScr[i].fValue=fV; console.log('ScrV='+fV); ScrRefresh('SV'+sIdNum, i, '');}}else if(sIdTyp=='D'){if(g_iObjBits&4 && i<aKnb.length){fV=parseFloat(sValue); if(fV<aKnb[i].fMin) fV=aKnb[i].fMin; if(fV>aKnb[i].fMax) fV=aKnb[i].fMax; aKnb[i].fValue=fV; KnbRefresh('DV'+sIdNum, i, '');}}else if(sIdTyp=='T'){if(g_iObjBits&8 && i<aTrk.length){aTrk[i].fX=0; aTrk[i].fY=0; TrkRefresh('',i,'');}}else if(sIdTyp=='L'){if(g_iObjBits&16 && i<aLst.length){aLst[i].iValue=parseInt(sValue); LstRefresh('',i,'');}}else if(sIdTyp=='I'){AnlyUpdate(sValue);}else if(sIdTyp=='C'){document.location.reload(true);}else if(sIdTyp=='A'){if(typeof AudioCommand!='undefined') AudioCommand(sValue);}}}function AudioCommand(sCmd){var iHz=0, iDur=0, iPer=0; var sField=sCmd.split(','); if(sField.length>=2){iHz=parseInt(sField[0]); iDur=parseInt(sField[1]);}if(sField.length==3)iPer=parseInt(sField[2]); if(iHz>0) AudioGenTone(iHz,iDur,iPer);}function AudioGenTone(iHz,iDur,iPer){var aCtx=new webkitAudioContext(); var aOsc=aCtx.createOscillator(); var aVol=aCtx.createGainNode(); aOsc.type=0; //Sine aOsc.frequency.value=iHz; aOsc.connect(aVol); aVol.gain.value=0.3; aVol.connect(aCtx.destination); var aNow=aCtx.currentTime; var fPer=iDur/1000; aOsc.noteOn(aNow); aOsc.noteOff(aNow+fPer);}function ObjMsg(sMsg){var iBits=0, sId=''; if(sMsg!=null){sId=sMsg.substr(0,3); if(g_sMsgBfrH.length==0&&g_oMsgTmr==null){iBits=MsgGet(sMsg,sId,0); if((iBits&2)==0)g_sMsgBfrL.push(sId); SendHttpReq(sMsg);}else{iBits=MsgGet(sMsg,sId,1); if((iBits&1)==0)g_sMsgBfrH.push(sId); if((iBits&2)==0)g_sMsgBfrL.push(sId);}if(g_oMsgTmr==null){g_oMsgTmr=setTimeout('ObjMsg(null)',g_iPostThr);}}else{if(g_sMsgBfrH.length>0){sId=g_sMsgBfrH.shift(); sMsg=MsgGet(null,sId,2); SendHttpReq(sMsg);}else if(g_sMsgBfrL.length>0){sId=g_sMsgBfrL.shift(); sMsg=MsgGet(null,sId,3); SendHttpReq(sMsg);}g_oMsgTmr=null; if(g_sMsgBfrH.length>0||g_sMsgBfrL.length>0){g_oMsgTmr=setTimeout('ObjMsg(null)',g_iPostThr);}}}function MsgGet(sMsg,sId,iTask){var sObj=sId.charAt(0); //'S01'->'S' var i=parseInt(sId.substr(1,2))-1; //'S01'->0 var iSet=0, iClr=3, bSav=false, sMsgTx='', iBits=0; switch(iTask){case 0: iSet=2; bSav=true; break; case 1: iSet=3; bSav=true; break; case 2: iClr=2; break; case 3: iClr=1; break;}switch(sObj){case 'B': if(bSav){aBtn[i].sMsg=sMsg; iBits=aBtn[i].iMsgBits; aBtn[i].iMsgBits|=iSet;}else{sMsgTx=aBtn[i].sMsg; aBtn[i].iMsgBits&=iClr;}break; case 'S': if(bSav){aScr[i].sMsg=sMsg; iBits=aScr[i].iMsgBits; aScr[i].iMsgBits|=iSet;}else{sMsgTx=aScr[i].sMsg; aScr[i].iMsgBits&=iClr;}break; case 'D': if(bSav){aKnb[i].sMsg=sMsg; iBits=aKnb[i].iMsgBits; aKnb[i].iMsgBits|=iSet;}else{sMsgTx=aKnb[i].sMsg; aKnb[i].iMsgBits&=iClr;}break; case 'T': if(bSav){aTrk[i].sMsg=sMsg; iBits=aTrk[i].iMsgBits; aTrk[i].iMsgBits|=iSet;}else{sMsgTx=aTrk[i].sMsg; aTrk[i].iMsgBits&=iClr;}break; case 'L': if(bSav){aLst[i].sMsg=sMsg; iBits=aLst[i].iMsgBits; aLst[i].iMsgBits|=iSet;}else{sMsgTx=aLst[i].sMsg; aLst[i].iMsgBits&=iClr;}break;}if(bSav){return iBits;}else{return sMsgTx;}}function SendHttpReq(sMsg){var sCtr=GetMsgCtr(); var xhr=new XMLHttpRequest(); if(g_iXhrAbort>0){var s1=sMsg.charAt(0); if(s1=='B'||s1=='D'||s1=='S'||s1=='T'){xhr.onreadystatechange=function(){setTimeout(function(){xhr.abort();},g_iXhrAbort);}}}xhr.open('POST', ('?'+g_sSesId+sCtr+'!'+sMsg), true); xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'); xhr.send();}function GetMsgCtr(){var sCtr=''; g_iMsgCtr++; if(g_iMsgCtr>99)g_iMsgCtr=0; if(g_iMsgCtr<=9){sCtr='.0'+g_iMsgCtr;}else{sCtr='.'+g_iMsgCtr;}return sCtr;}function ImgInitAll(){}function BtnEvent(sIdNow, sIdPrv, sEvent, sDMU, X){if(sDMU=='D'){var sId=sIdNow;}else{var sId=sIdPrv;}if(sId.charAt(0)!='B')return; var e=E(sId); var sIdNum=sId.substring(1); //'B01'->'01' var i=parseInt(sIdNum)-1; //'01'->0 if(aBtn[i].iOper==0){//if Operation=Alternate if(sDMU=='D'){if(aBtn[i].iState==0){//if Off aBtn[i].iState=1; BtnRefresh(e, i, 1); //1=On}else{//if On aBtn[i].iState=0; BtnRefresh(e, i, 0); //0=Off}ObjMsg(sId+sEvent+'='+aBtn[i].iState);}}else{//if Operation=Momentary or Pulse if(sDMU=='D'){aBtn[i].iState=1; BtnRefresh(e, i, 1); //1=On}else{aBtn[i].iState=0; BtnRefresh(e, i, 0); //1=Off}ObjMsg(sId+sEvent+'='+aBtn[i].iState);}}function BtnRefresh(eBtn, i, iState){if(eBtn==null)return; var esBtn=eBtn.style; if(iState==0){//if Up(Off) ESBkBd(esBtn,aBtn[i].sUpC,aBtn[i].sUpB); esBtn.boxShadow='none'; esBtn.padding='0px 0px 0px 0px'; eBtn.value=aBtn[i].sUpT;}else{//if Down(On) ESBkBd(esBtn,aBtn[i].sDnC,aBtn[i].sDnB); esBtn.boxShadow=('0px 0px 15px 5px '+aBtn[i].sDnC); esBtn.padding='1px 0px 0px 0px'; eBtn.value=aBtn[i].sDnT;}}function BtnInitAll(){for(var i=0; i<aBtn.length; i++){if(i<10){var sId='B0'+(i+1);}else{var sId='B'+(i+1)}var eBtn=E(sId); BtnRefresh(eBtn, i, aBtn[i].iState);}}function ScrEvent(sIdNow, sIdPrv, sEvent, sDMU, X){}function ScrRefresh(sId, i, sDMU){}function ScrInitAll(){}function KnbEvent(sIdNow, sIdPrv, sEvent, sDMU, X, Y){if(sDMU=='D'){var sId=sIdNow;}else{var sId=sIdPrv;}if(sId.charAt(0)!='D')return; var sIdNum=sId.substring(2); //'DH01'->'01' var sIdItm=sId.substring(1,2); //'O','H','V', 'A', 'B' var i=parseInt(sIdNum)-1; //'01'->0 if(sDMU=='D'&&sIdItm=='V'){KeypadShow(sId, 'DO', aKnb[i].fMin, aKnb[i].fMax, aKnb[i].iDp); return;}if((sIdItm=='A'||sIdItm=='B')&&(sDMU!='M')){var sC='', sB=''; if(sDMU=='D'){sC=aKnb[i].sDnC; sB=aKnb[i].sDnB;}else{sC=aKnb[i].sUpC; sB=aKnb[i].sUpB;}if(sIdItm=='A'){ESBkBd(aKnb[i].esBtnA,sC,sB);}else{ESBkBd(aKnb[i].esBtnB,sC,sB);}}if(sId.charAt(1)!='H')return; if(sDMU=='U')g_sItmDn=''; if(sIdItm=='H'&&sDMU=='D')g_sItmDn=sId; if(sDMU=='U')return; var dx=X-aKnb[i].fOutXc; var dy=Y-aKnb[i].fOutYc; if(sIdItm=='H'){//if Handle Event if(sDMU=='D'){//if MouseDown aKnb[i].sValuePrv='';}else if(sDMU=='M'){//if MouseMove var RT=GetRT(dx, dy); aKnb[i].fValue=(RT.t-aKnb[i].iDmin)/aKnb[i].fDegPerUnit+aKnb[i].fMin; if(aKnb[i].fValue<aKnb[i].fMin) aKnb[i].fValue=aKnb[i].fMin; if(aKnb[i].fValue>aKnb[i].fMax) aKnb[i].fValue=aKnb[i].fMax; KnbRefresh('DT'+sIdNum,i,''); if(aKnb[i].sValue!=aKnb[i].sValuePrv){aKnb[i].sValuePrv=aKnb[i].sValue; ObjMsg('D'+sIdNum+'VC='+aKnb[i].sValue);}}// else if(sDMU=='M')}// if(sIdItm=='H')}function KnbRefresh(sId, i, sDMU){if(i<10){var sIdNum='0'+(i+1);}else{var sIdNum=(i+1).toFixed(0);}var iDp=aKnb[i].iDp; aKnb[i].sValue=aKnb[i].fValue.toFixed(iDp); aKnb[i].eValue.innerHTML=aKnb[i].sValue; var fA=(aKnb[i].fValue-aKnb[i].fMin)*aKnb[i].fDegPerUnit+aKnb[i].iDmin; var fDmpPR=aKnb[i].fOutR-aKnb[i].fDmpR-1; var fHndPR=fDmpPR+5; var fOutR=aKnb[i].fOutR; var fPIdiv=Math.PI/180; var fHndXc=fOutR-fHndPR*Math.cos((fA+270)*fPIdiv); var fHndYc=fOutR-fHndPR*Math.sin((fA+270)*fPIdiv); var fDmpXc=fOutR-fDmpPR*Math.cos((fA+270)*fPIdiv); var fDmpYc=fOutR-fDmpPR*Math.sin((fA+270)*fPIdiv); var fGloXc=fOutR-(fOutR-2)*Math.cos((fA+270)*fPIdiv); var fGloYc=fOutR-(fOutR-2)*Math.sin((fA+270)*fPIdiv); var fHndR=aKnb[i].fHndR; var fDmpR=aKnb[i].fDmpR; var fGloR=aKnb[i].fGloR; ESPos(aKnb[i].esHnd, fHndXc-fHndR, fHndYc-fHndR); ESPos(aKnb[i].esDmp, fDmpXc-fDmpR, fDmpYc-fDmpR); ESPos(aKnb[i].esGlo, fGloXc+aKnb[i].fOutL-fGloR, fGloYc+aKnb[i].fOutT-fGloR);}function KnbInitAll(){for(var i=0; i<aKnb.length; i++){if(i<10){var sIdNum='0'+(i+1);}else{var sIdNum=(i+1).toFixed(0);}aKnb[i].esOut=E('DO'+sIdNum).style; aKnb[i].esGlo=E('DG'+sIdNum).style; aKnb[i].esHnd=E('DH'+sIdNum).style; aKnb[i].esDmp=E('DD'+sIdNum).style; aKnb[i].eValue=E('DV'+sIdNum); aKnb[i].esValue=aKnb[i].eValue.style; if(aKnb[i].bBtns==true){aKnb[i].esBtnA=E('DA'+sIdNum).style; aKnb[i].esBtnB=E('DB'+sIdNum).style;}aKnb[i].fOutL=parseInt(aKnb[i].esOut.left); aKnb[i].fOutT=parseInt(aKnb[i].esOut.top); aKnb[i].fOutR=parseInt(aKnb[i].esOut.width)/2; aKnb[i].fHndR=parseInt(aKnb[i].esHnd.width)/2; aKnb[i].fOutXc=(aKnb[i].fOutL+aKnb[i].fOutR); aKnb[i].fOutYc=(aKnb[i].fOutT+aKnb[i].fOutR); aKnb[i].fDmpR=parseInt(aKnb[i].esDmp.width)/2; aKnb[i].fGloR=parseInt(aKnb[i].esGlo.width)/2; aKnb[i].fDegPerUnit=(aKnb[i].iDmax-aKnb[i].iDmin)/(aKnb[i].fMax-aKnb[i].fMin); if(aKnb[i].bBtns==true){aKnb[i].sUpC=ColorLumAdj(aKnb[i].sVC,-100); aKnb[i].sUpB=ColorLumAdj(aKnb[i].sVC,-200); aKnb[i].sDnC=ColorLumAdj(aKnb[i].sVC,+20); aKnb[i].sDnB=ColorLumAdj(aKnb[i].sVC,-90); ESBkBd(aKnb[i].esBtnA,aKnb[i].sUpC,aKnb[i].sUpB); ESBkBd(aKnb[i].esBtnB,aKnb[i].sUpC,aKnb[i].sUpB);}var sRC12=ColorLumAdj(aKnb[i].sRC,20)+', '+ColorLumAdj(aKnb[i].sRC,-180); aKnb[i].esOut.background='radial-gradient(at 85px 85px, '+sRC12+')'; aKnb[i].esOut.background='-webkit-radial-gradient(left top, '+sRC12+')'; aKnb[i].esValue.color=aKnb[i].sVC; sCmid=HexToRGBA(aKnb[i].sRC,0.8); sCedg=HexToRGBA(aKnb[i].sRC,0); aKnb[i].esGlo.background='radial-gradient('+sCmid+', '+sCedg+' 75%)'; aKnb[i].esGlo.background='-webkit-radial-gradient('+sCmid+', '+sCedg+' 75%)'; KnbRefresh('DH'+sIdNum, i, '');}}function TrkEvent(sIdNow, sIdPrv, sEvent, sDMU, X, Y){}function TrkRefresh(sId, i, sDMU){}function TrkInitAll(){}function LstEvent(sIdNow, sIdPrv, sEvent, sDMU, X){}function LstRefresh(sId, i, sDMU){}function LstInitAll(){}function LedInitAll(){}function ColorLumAdj(sC, iLum){if(sC.charAt(0)=='#') sC=sC.substring(1); var iC=parseInt(sC,16); var r=(iC>>16)+iLum; if(r<0)r=0; if(r>255)r=255; var g=((iC>>8)&0xFF)+iLum; if(g<0)g=0; if(g>255)g=255; var b=(iC&0xFF)+iLum; if(b<0)b=0; if(b>255)b=255; iC=(r<<16)|(g<<8)|b; var sCr=iC.toString(16); var iLen=sCr.length; if(iLen<6){var s0='000000'; sCr=s0.substr(0,6-iLen)+sCr;}return '#'+sCr;}function HexToRGBA(c,a){var r=0, g=0, b=0; if(c.charAt(0)=='#') c=c.substr(1); r=parseInt(c.charAt(0)+c.charAt(1),16); g=parseInt(c.charAt(2)+c.charAt(3),16); b=parseInt(c.charAt(4)+c.charAt(5),16); return 'rgba('+r+','+g+','+b+','+a+')';}function GradStr(C){var sT=ColorLumAdj(C,20)+' 0%, '+ColorLumAdj(C,-10)+' 50%, '; var sB=ColorLumAdj(C,-40)+' 50%, '+ColorLumAdj(C,30)+' 100%'; return sT+sB;}function GradSet(e,sGS){e.style.background='linear-gradient(to bottom, '+sGS+')'; e.style.background='-webkit-linear-gradient(top, '+sGS+')';}function GetRT(dX, dY){var pi=Math.PI, t=0, r=Math.sqrt(dX*dX+dY*dY); if(dX>0){t=Math.atan(dY/dX)*180/pi; if(dY<0) t+=360;}else if(dX<0){t=Math.atan(dY/dX)*180/pi+180;}else{if(dY>0){t=90;}else{t=270;}}t=t-90; if(t<0) t+=360; return{r:r, t:t};}function KeypadEvent(sIdNow, sIdPrv, sEvent, sDMU, X, Y){}function KeyPadShow(k,sScrId,sMode){}function KeypadHide(){}function Btn(iOper,iState,sUpC,sDnC,sUpB,sDnB,sUpT,sDnT){this.iOper=iOper; this.iState=iState; this.sUpC='#'+sUpC; this.sDnC='#'+sDnC; this.sUpB='#'+sUpB; this.sDnB='#'+sDnB; this.sUpT=sUpT; this.sDnT=sDnT; this.sMsg=''; this.iMsgBits=0;}var aBtn=[ new Btn(0,0,'00008C','0550FF','000046','0000C8','Off','On')] function Knb(fValue,fMin,fMax,iDmin,iDmax,iDp,sVC,sRC){this.fValue=fValue; this.fMin=fMin; this.fMax=fMax; this.iDmin=iDmin; this.iDmax=iDmax; this.iDp=iDp; this.sVC='#'+sVC; this.sRC='#'+sRC; this.fDegPerUnit=0; this.fOutR=0; this.sValue=''; this.sValuePrv=''; this.sMsg=''; this.iMsgBits=0;}var aKnb=[ new Knb( 0, 0, 100, 40,320,1,'0000FF','3553FF')] </script> <style type="text/css"> input[type=button].BtnLg{-webkit-appearance:none; -webkit-border-radius:16px; -moz-border-radius:16px; border-radius:16px; border:4px solid #808080; box-shadow: 2px 2px 3px #808080; padding: 0px 0px 0px 0px; text-shadow: 1px 1px 5px #000000;}input[type=button].BtnSm{-webkit-appearance:none; -webkit-border-radius:10px; -moz-border-radius:10px; border-radius:10px; border:3px solid #808080; box-shadow: 2px 2px 3px #808080; padding: 0px 0px 10px 0px; text-shadow: 1px 1px 5px #000000;}div.knbOut{position:absolute; border:none; -webkit-border-radius:50%; -moz-border-radius:50%; border-radius:50%; background:radial-gradient(at 85px 85px, #8080FF, #000020); background:-webkit-radial-gradient(top, #8080FF, #000020);}div.knbOutL{width:170px; height:170px;}div.knbOutS{width:116px; height:116px;}div.knbFace{position:absolute; background:#C0C0C0; border:2px solid #000000; -webkit-border-radius:50%; -moz-border-radius:50%; border-radius:50%; background:radial-gradient(at 75% 75%, #303030, #C0C0C0); background:-webkit-radial-gradient(right bottom, #303030, #C0C0C0);}div.knbFaceL{width:120px; height:120px;}div.knbFaceS{width:80px; height:80px;}div.knbDmp{position:absolute; border:none; -webkit-border-radius:50%; -moz-border-radius:50%; border-radius:50%; background:radial-gradient(at 75% 75%, #C0C0C0, #202020); background:-webkit-radial-gradient(right bottom, #C0C0C0, #202020);}div.knbDmpL{width:22px; height:22px;}div.knbDmpS{width:16px; height:16px;}div.knbHnd{position:absolute; width:40px; height:40px; -webkit-border-radius:50%; -moz-border-radius:50%; border-radius:50%; background:none; border:none; touch-action:none;}div.knbGlw{position:absolute; border:none; -webkit-border-radius:50%; -moz-border-radius:50%; border-radius:50%; background:radial-gradient(rgba(255,255,255,0.6), rgba(255,255,255,0) 75%); background:-webkit-radial-gradient(rgba(255,255,255,0.6),rgba(255,255,255,0) 75%);}div.knbGlwL{width:50px; height:50px;}div.knbGlwS{width:33px; height:33px;}div.knbValue{position:absolute; background-color: #000000; border:2px solid #808080; -webkit-border-radius:5px; -moz-border-radius:5px; border-radius:5px; font-family:sans-serif; font-weight:bold; text-align:center; padding:0px;}div.knbValueL{width:106px; height:40px; left:30px; top:63px; font-size:42px; line-height:42px;}div.knbValueS{width:70px; height:26px; left:21px; top:43px; font-size:28px; line-height:28px;}</style> </head> <body style='width:257px; height:571px; background-color:#000000;'> <div style='position:absolute; left:53px; top:46px;'> <form><input type='button' class='BtnLg' value='Off' id='B01' style='width:170px; height:56px; font-size:40px; background-color:#00008C; color:#FFFFFF;'></form> </div><div class='knbGlw knbGlwL' style='left:109px; top:135px; width:50px;' id='DG01'></div><div class='knbOut knbOutL' style='left:48px; top:150px; width:170px;' id='DO01'> <div class='knbFace knbFaceL' style='left:23px; top:23px;'></div><div class='knbDmp knbDmpL' style='left:1px; top:72px; width:22px;' id='DD01'></div><div class='knbHnd' style='left:5px; top:85px; width:40px; height:40px;' id='DH01'></div><div class='knbValue knbValueL' style='color:#FFFFFF;' id='DV01'>00</div></div></body></html>